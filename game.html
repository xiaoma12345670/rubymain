<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>吃豆子变大游戏</title>
  <style>
    body, html {
      height: 100%;
      margin: 0;
      overflow: hidden;
      background: linear-gradient(45deg, #FF4500, #FFD700, #FF6347);
    }
    #gameArea {
      position: relative;
      width: 100%;
      height: 100%;
    }
    #player {
      position: absolute;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    .bean {
      position: absolute;
      width: 100px;
      height: 100px;
      border-radius: 50%;
      object-fit: cover;
    }
    #score {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 24px;
      font-weight: bold;
      color: #000;
    }
  </style>
</head>
<body>
  <p style="position: absolute; top: 50px; left: 10px;">编程来让按下键盘↑↓←→后可以运动起来。</p>
  <div id="gameArea">
    <img id="player" src="player.png" />
  </div>
  <div id="score">Score: 0</div>
  <script>
    const player = document.getElementById("player");
    const gameArea = document.getElementById("gameArea");
    const scoreElement = document.getElementById("score");
    let playerSize = 50; // 初始玩家大小
    let playerSpeed = 30; // 玩家移动速度
    let score = 0;

    function movePlayer(dx, dy) {
      const newX = player.offsetLeft + dx;
      const newY = player.offsetTop + dy;
      
      // 防止玩家移动出游戏区域
      if (newX >= 0 && newX <= gameArea.offsetWidth - playerSize && newY >= 0 && newY <= gameArea.offsetHeight - playerSize) {
        player.style.left = `${newX}px`;
        player.style.top = `${newY}px`;
      }
      checkCollision();
    }

    function checkCollision() {
	  const beans = document.querySelectorAll(".bean");
	  const playerRect = player.getBoundingClientRect(); // 获取 player 的矩形区域
	  
	  beans.forEach(bean => {
	    const beanRect = bean.getBoundingClientRect(); // 获取 bean 的矩形区域
	
	    // 检测矩形是否相交
	    if (
	      playerRect.left < beanRect.right &&
	      playerRect.right > beanRect.left &&
	      playerRect.top < beanRect.bottom &&
	      playerRect.bottom > beanRect.top
	    ) {
	      // 碰撞逻辑
	      gameArea.removeChild(bean);
	      playerSize += 5;
	      player.style.width = `${playerSize}px`;
	      player.style.height = `${playerSize}px`;
	      increaseScore();
	    }
	  });
	}

    function createBean() {
      const bean = document.createElement("img");
      bean.className = "bean";
      bean.src = "bean.png"; // 指定你的图片文件路径
      bean.style.left = `${Math.random() * (gameArea.offsetWidth - 10)}px`; // 防止豆子生成在游戏区域外
      bean.style.top = `${Math.random() * (gameArea.offsetHeight - 10)}px`;
      gameArea.appendChild(bean);
    }

    function increaseScore() {
      score += 1;
      scoreElement.textContent = `Score: ${score}`;
    }

    setInterval(createBean, 1000);

    // 监听键盘按下事件
    document.addEventListener("keydown", function(event) {
      const key = event.key;
      
      // 根据按下的键来移动玩家
      switch (key) {
        case "ArrowUp":
          movePlayer(0, -playerSpeed);
          break;
        case "ArrowDown":
          movePlayer(0, playerSpeed);
          break;
        case "ArrowLeft":
          movePlayer(-playerSpeed, 0);
          break;
        case "ArrowRight":
          movePlayer(playerSpeed, 0);
          break;
      }
    });
  </script>
</body>
</html>














